#NO WHITESPACE BETWEEN TEXT DELIMITERS!
#This is a sample config file for an 8 antenna system at Green Bank

[borphserver]
#List of servers to be used for X engines
#Each FPGA should be given a seperate entry. format:[server1]:[port],[server2]:[port],[server3...
servers = roach0138:7147,roach0135:7147,roach0139:7147,roach0002:7147
#ip address of ntp server used to sync bees and this computer.
#will eventually only be used by this computer as the bees will sync from a local ntpd
timeserver = pool.ntp.org
#bitstream to load the x engine FPGAs. Should be present and load-able by ROACH's KATCP server
#bitstream=r_2x_8a_r311b_2009_Jun_14_1902.bof
#Xilinx XAUI PHY -=WORKING=-:
#bitstream=r_r311b_xaui_test_2009_Jun_18_1506.bof
#as above, but KAT PHY -=Working=-:
#bitstream=r_r312b_xaui_test_2009_Jun_23_1531.bof
#OLD snap_GBE_X:
#bitstream=r_2x_8a_r311b_1_2009_Jun_25_1214.bof
#bitstream=r_2x_8a_r311b_1_2009_Jun_26_0833.bof
#working, old 10GbE:
#bitstream=r_2x_8a_r311b_1_2009_Jun_26_1946.bof
#broken: boards too slow
#bitstream=r_2x_8a_r311b_1_2009_Jun_27_1000.bof
#working up to snap_gbe_rx:
#bitstream=r_2x_8a_r320b_1_2009_Jul_01_1638.bof
#working with external RX fifo:
bitstream=r_2x_8a_r320b_1_2009_Jul_02_1540.bof
#Try with internal GBE fifo failed:
#bitstream=r_2x_8a_r320c_1_2009_Jul_04_1103.bof
#including one X engine:
bitstream=r_2x_8a_r320b_2009_Jul_06_1117.bof

[correlator]
#number of frequency channels
n_chans = 2048
#number of antennas in the design.
n_ants = 8
#fft shifting schedule in decimal. A binary '1' shifts, a zero does not.
fft_shift = 2047 
#Number of spectra to integrate in DRAM.
acc_len = 8192
#Number of integrations performed inherently in the X engine.
xeng_acc_len = 128
#Clockrate of ADCs in GHz. IBOB clock is adc_clk/4.
adc_clk = 0.600
#Number of stokes parameters calculated.
n_stokes = 4
#Number of X engines per FPGA
x_per_fpga = 2
#Number of F engine clock cycles between X engine syncs. This is generated by the descramble block in the X engines. 2^18 = 262144
clk_per_sync = 262144
#Mixing freqency of the DDC block in the F engines
ddc_mix_freq = 0.25
#Frequency decimation of the DDC block in the F engines
ddc_decimation = 4
#Number of quantisation bits
feng_bits = 4
#Logical binary point position of F engine data
feng_fix_pnt_pos = 3
#pkt len of 10GbE data in 64 bit words
10gbe_pkt_len = 32
#UDP data port
10gbe_port = 8888
#Starting ip address to use (will be auto-incremented for different x engines)
#10.0.0.(128+X):
10gbe_ip = 167772288
#clock rate in MHz for X engine boards.
x_eng_clk = 200
#Number of dual-pol antennas' data coming over one XAUI link
n_ants_per_xaui = 2
#Number of XAUI ports in use per X engine FPGA
n_xaui_ports_per_fpga = 1


[receiver]
#UDP receiver for output data
rx_udp_port = 8888
rx_udp_ip = 167772161

[equalisation]
#Decimation. Adjacent frequency channels share coefficients. The center equalisation value is chosen for adjacent bins.
eq_decimation=128
#Tolerance to use for auto-equalization
tolerance = 0.01
#Perform automatic equalization (=1) or set to fixed EQ_poly values (=0)
auto_eq = 0
#Starting point for auto-equalization or values for manual eq programming.
#One line entry per polarisation. Item is a list of polynomial coefficients.
#Eg,
#eq_poly_0x = 10,30,40
#corresponds to 10x^2 + 30x + 40 where x is the frequency channel index.
eq_poly_0x = 1,1000
eq_poly_0y = 1,1000
eq_poly_1x = 1,1000
eq_poly_1y = 1,1000
eq_poly_2x = 1,1000
eq_poly_2y = 1,1000
eq_poly_3x = 1,1000
eq_poly_3y = 1,1000
eq_poly_4x = 1,1000
eq_poly_4y = 1,1000
eq_poly_5x = 1,1000
eq_poly_5y = 1,1000
eq_poly_6x = 1,1000
eq_poly_6y = 1,1000
eq_poly_7x = 1,1000
eq_poly_7y = 1,1000

#[antennas]
#Physical inputs to logical antenna number mapping. Not yet fully functional.
#order = 0,1,2,3,4,5,6,7
